{"openapi":"3.0.1","info":{"title":"Wink Payment API","description":"A programmatic way to create bookings, receive payment and disburse funds globally.\n\n## APIs\nNot every integrator needs every APIs. For that reason, we have separated APIs into context.\n\n- [Affiliate](/affiliate): All APIs related to selling travel inventory as an affiliate.\n- [Analytics](/analytics): All APIs related to tracking metrics across a wide variety of data source segments including, more entertaining, leaderboard metrics.\n- [Booking](/booking): All APIs related to creating platform bookings.\n- [Channel Manager](/channel-manager): All APIs related to channel managers who want to integrate with our platform.\n- [Extranet](/extranet): All APIs related to managing travel inventory and suppliers.\n- [Inventory](/inventory): All APIs related to retrieve known travel inventory as it was found using the Lookup API..\n- [Lookup](/lookup): All APIs related to locating inventory by region, locale and property flags.\n- [Reference](/reference): All APIs related to retrieving platform-supported taxonomies.\n- [TripPay Acquiring](/payment-acquiring): All APIs related to capture payment details such as a Stripe payment intent.\n- [TripPay](/payment): All APIs related to TripPay account management, booking, mapping and integration features.\n\n## SDKs\nWe are actively working on supporting the most used languages out there. If you don't see your language here, reach out to us with a request to officially add your language. In the meantime, if you want to roll your own SDK, you can do so by downloading the OpenAPI spec and using one of the many available OpenAPI generators available: [https://openapi-generator.tech/docs/generators](https://openapi-generator.tech/docs/generators).\n\n- Java SDK [https://github.com/wink-travel/wink-sdk-java](https://github.com/wink-travel/wink-sdk-java)\n\n# Usage\nThese features are made available to you via a [REST API](https://en.wikipedia.org/wiki/Representational_state_transfer). This API is language agnostic. We will link to SDKs for the most popular programming languages on this page as they become available.\n\n## Versioning\nWe chose to version our endpoints in a way that we hope affects your integration with us the least. You request the version of our API you wish to work with via the `Wink-Version` header. When it's time for you to upgrade, you only have to change the version number to get access to our updated endpoints.\n\n## Release history\n- 2022-10-15: v2.0 - Removed HATEOAS and added Wink-Version header\n- 2021-12-01: v1 - Initial release\n","contact":{"name":"Bjorn Harvold","email":"bjorn@wink.travel"},"version":"22.1.9-SNAPSHOT","x-logo":{"backgroundColor":"#FFFFFF","altText":"TripPay logo","url":"https://res.cloudinary.com/traveliko/image/upload/c_scale,h_90/v1632220708/trippay/brand/TP_logo_v2_PURPLE_trans.png"}},"externalDocs":{"description":"TripPay API","url":"https://trippay.atlassian.net/l/c/iS7yRWQM"},"servers":[{"url":"https://api.trippay.io","description":"Production endpoint"},{"url":"https://staging-api.trippay.io","description":"Sandbox endpoint"},{"url":"https://dev-api.trippay.io","description":"Developer endpoint"}],"tags":[{"name":"Stripe","description":"Use the Payment API to help facilitate Stripe payment flows."},{"name":"Affiliate","description":"Affiliate related endpoint."},{"name":"Contract","description":"Booking contract related functionality."},{"name":"NMI","description":"Use the Payment API to help facilitate NMI payment flows."}],"paths":{"/contract/validate":{"post":{"tags":["Contract"],"summary":"Validate contract","description":"Validates an incoming raw booking contract request for syntax, price and more.","operationId":"validate","parameters":[{"name":"Wink-Version","in":"header","schema":{"type":"string","enum":["2.0"]}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateBookingContractRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateBookingContractResponse"}}}}}}},"/contract/price/acquirer":{"post":{"tags":["Contract"],"summary":"Price acquirer contract","description":"Displays booking contract in requested display quote as well as the selected acquirer's currency","operationId":"price","parameters":[{"name":"Wink-Version","in":"header","schema":{"type":"string","enum":["2.0"]}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceSupplierContractWithAcquirerRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceSupplierContractWithAcquirerResponse"}}}}}}},"/contract/price":{"post":{"tags":["Contract"],"summary":"Price contract","description":"Displays booking contract in requested display quote","operationId":"price_1","parameters":[{"name":"Wink-Version","in":"header","schema":{"type":"string","enum":["2.0"]}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceBookingContractRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceBookingContractResponse"}}}}}}},"/contract/affiliate/details":{"post":{"tags":["Affiliate"],"summary":"Show Affiliate Details","description":"Returns basic affiliate details.","operationId":"showAffiliateDetails","parameters":[{"name":"Wink-Version","in":"header","schema":{"type":"string","enum":["2.0"]}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AffiliateDetailsRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AffiliateDetailsResponse"}}}}}}},"/api/payment/stripe/sale":{"post":{"tags":["Stripe"],"summary":"Complete Stripe Capture","description":"Upon a successful card capture, we store customer details for later use.","operationId":"captureSale","parameters":[{"name":"Wink-Version","in":"header","schema":{"type":"string","enum":["2.0"]}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateStripeSaleRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingContractResponse"}}}}}}},"/api/payment/stripe/payment/intent":{"post":{"tags":["Stripe"],"summary":"Create Stripe Payment Intent","description":"Creates a Stripe PaymentIntent and creates a new customer for that intent.","operationId":"createPaymentIntent","parameters":[{"name":"Wink-Version","in":"header","schema":{"type":"string","enum":["2.0"]}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePaymentIntentRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePaymentIntentResponse"}}}}}}},"/api/payment/nmi/sale":{"post":{"tags":["NMI"],"summary":"Create NMI Sale","description":"Attempt an immediate sale with NMI as acquirer.","operationId":"createNmiSale","parameters":[{"name":"Wink-Version","in":"header","schema":{"type":"string","enum":["2.0"]}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateNmiSaleRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingContractResponse"}}}}}}},"/api/payment/stripe/payment/method/list":{"get":{"tags":["Stripe"],"summary":"List Payment Methods","description":"List past payment methods by an existing customer record.","operationId":"showCustomerPaymentMethods","parameters":[{"name":"acquirerId","in":"query","required":true,"schema":{"type":"string"}},{"name":"Wink-Version","in":"header","schema":{"type":"string","enum":["2.0"]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerPaymentMethodsResponse"}}}}}}}},"components":{"schemas":{"BookingUser":{"required":["email","firstName","lastName"],"type":"object","properties":{"userIdentifier":{"type":"string","description":"User identifier","format":"uuid"},"firstName":{"type":"string","description":"First name","example":"John"},"lastName":{"type":"string","description":"Last name","example":"Smith"},"email":{"type":"string","description":"Email","format":"email","example":"john.smith@email.com"},"telephone":{"type":"string","description":"Telephone","example":"+1 212 555 1212"},"profile":{"$ref":"#/components/schemas/Profile"},"fullName":{"type":"string","description":"Full name","example":"John Smith"}},"description":"Person doing the booking."},"Contact":{"required":["email","firstName","lastName"],"type":"object","properties":{"firstName":{"type":"string","description":"Contact first name","example":"John"},"lastName":{"type":"string","description":"Contact last name","example":"Smith"},"email":{"type":"string","description":"Contact E-mail","example":"johnsmith@email.com"},"secondaryEmail":{"type":"string","description":"Contact secondary Email","example":"johnsmith2@email.com"},"phoneNumber":{"type":"string","description":"Contact phone number","example":"+12125551212"},"fullName":{"type":"string","description":"First and last name","example":"John Smith"},"summary":{"type":"string","description":"Summary","example":"John Smith\n0123456768\njohnsmith@email.com"}}},"Itinerary":{"required":["adults","children","endDate","startDate"],"type":"object","properties":{"startDate":{"type":"string","description":"Start date","format":"date-time"},"endDate":{"type":"string","description":"End date","format":"date-time"},"adults":{"minimum":1,"type":"integer","description":"Number of adults","format":"int32"},"children":{"minimum":0,"type":"integer","description":"Number of children","format":"int32"},"hours":{"type":"integer","description":"Number of hours between start and end dates. Used for itineraries that require bookings that occur within hours and not days. E.g. Meeting room reservation.","format":"int64","readOnly":true},"guests":{"type":"integer","description":"Total number of adults and children","format":"int32","readOnly":true},"nights":{"type":"integer","description":"Total number of room nights","format":"int64","readOnly":true}},"description":"Itinerary outlines stay dates, number of adults and children"},"Moneys":{"required":["amount","currency"],"type":"object","properties":{"amount":{"type":"number","description":"Amount in currency","format":"double"},"currency":{"type":"string","description":"Specified currency"}},"description":"Localized amount for displaying amount / currency pairs"},"Personal":{"type":"object","properties":{"gender":{"type":"string","description":"Identifier the gender of the customer.","enum":["MALE","FEMALE","OTHER"]},"birthDate":{"type":"string","description":"Indicates the date of birth as indicated in the document, in ISO 8601 prescribed format.","format":"date"},"maritalStatus":{"type":"string","description":"Marital status of the traveler.","enum":["ANNULLED","COHABITATING","DIVORCED","ENGAGED","MARRIED","SEPARATED","SINGLE","WIDOWED","UNKNOWN"]},"childQuantity":{"type":"integer","description":"The number of children of the customer.","format":"int32"},"citizenship":{"type":"string","description":"Name of the (self-professed) country that is clamided for citizenship."},"address1":{"type":"string","description":"Address line 1"},"address2":{"type":"string","description":"Address line 2"},"city":{"type":"string","description":"City"},"postalCode":{"type":"string","description":"Postal code"},"country":{"type":"string","description":"Country"},"preferredCurrency":{"type":"string","description":"Type of funds preferred for reviewing monetary values, in ISO 4217 codes","example":"USD"},"language":{"type":"string","description":"The primary language of the customer"},"contactPerson":{"type":"array","description":"Array of emergency contact information for the customer","items":{"$ref":"#/components/schemas/Contact"}},"physChallName":{"type":"array","description":"Array of customer's physical challenges","items":{"type":"string"}},"petInfo":{"type":"array","description":"Array of customer's pets","items":{"$ref":"#/components/schemas/PetInfoDto"}}},"description":"Detailed customer information for this profile"},"PetInfoDto":{"type":"object","properties":{"name":{"type":"string","description":"Pet name"},"type":{"type":"string","description":"Pet type"}}},"Preferences":{"type":"object","properties":{"propertyLocationPref":{"type":"string","description":"Indicates preference for hotel property locations."},"propertyTypePref":{"type":"string","description":"Indicates preference for hotel property types."},"hotelChainPref":{"type":"string","description":"Identifies a preferred company by name."},"propertyAmenityPref":{"type":"array","description":"Indicates preferences for hotel property amenities.","items":{"type":"string"}},"recreationSrvcPref":{"type":"array","description":"Indicates preference for the type of recreation services in a hotel","items":{"type":"string"}},"businessSrvcPref":{"type":"array","description":"Indicates preference for type of business services in a hotel","items":{"type":"string"}},"securityFeaturePref":{"type":"array","description":"Indicates preference of rtype of security features in a hotel","items":{"type":"string"}},"physChalFeaturePref":{"type":"array","description":"Indicates preferences for type of features required to meet the needs of persons with physical challenges, disabilities, etc.","items":{"type":"string","description":"Indicates preferences for type of features required to meet the needs of persons with physical challenges, disabilities, etc."}},"smokingAllowed":{"type":"boolean","description":"Indicates preference for smooking allowed rooms.."},"roomLocationPref":{"type":"string","description":"Indicates preference for hotel room locations."},"bedTypePref":{"type":"string","description":"Indicates preferences for the size and features of hotel bed types."},"foodSrvcPref":{"type":"string","description":"Indicates preferences for type of food listener facilities in a hotel."},"roomAmenityPref":{"type":"array","description":"Indicates preferences for hotel room amenities.","items":{"type":"string"}},"guestType":{"type":"string","description":"Guest type"},"mealPref":{"type":"string","description":"Indicates meal preference."},"cuisinePref":{"type":"string","description":"Indicates cuisine preference."},"interestPref":{"type":"array","description":"Indicates interest preference","items":{"type":"string"}},"beveragePref":{"type":"array","description":"Indicates beverage preference.","items":{"type":"string"}},"foodPref":{"type":"array","description":"Indicates food preference.","items":{"type":"string"}},"allergies":{"type":"array","description":"Indicates allergies","items":{"type":"string"}},"petsPref":{"type":"array","description":"Indicates pet preferences","items":{"type":"string"}}},"description":"Customer preferences"},"Profile":{"type":"object","properties":{"profileIdentifier":{"type":"string","description":"Profile identifier","format":"uuid"},"userIdentifier":{"type":"string","description":"User identifier","format":"uuid"},"share":{"type":"boolean","description":"Indicates whether the user wants to share this profile of themselves with hotel(s)"},"user":{"$ref":"#/components/schemas/ProfileUser"},"personal":{"$ref":"#/components/schemas/Personal"},"preferences":{"$ref":"#/components/schemas/Preferences"}},"description":"A user profile accompanies this booking IF user has created and enabled sharing of profile"},"ProfileUser":{"type":"object","properties":{"firstName":{"type":"string","description":"First name","example":"Avid"},"lastName":{"type":"string","description":"Last name","example":"Travelman"},"email":{"type":"string","description":"Email","format":"email","example":"avid@travelman.com"},"phone":{"type":"string","description":"Telephone","example":"0123456789"},"profilePictureUrl":{"type":"string","description":"Profile picture URL"},"fullName":{"type":"string","description":"Full name","example":"John Smith"}}},"RawBeneficiary":{"required":["amountDue","identifier","identifierType","type"],"type":"object","properties":{"identifier":{"type":"string","description":"identifier of beneficiary that can map to an account with us","format":"uuid"},"identifierType":{"type":"string","description":"The identifierType tells us what type of identifier this is","example":"INTERNAL","enum":["INTERNAL","EXTERNAL"]},"amountDue":{"$ref":"#/components/schemas/VariableCharge"},"type":{"type":"string","description":"The type of beneficiary payment.","enum":["COMMISSION","PLATFORM_FEE","TRIP_PAY","SALE"]}},"description":"RawBeneficiary is a registered account with rights to compensation within a booking."},"RawBookingContract":{"required":["affiliateAccountIdentifier","affiliateAccountIdentifierType","contractList","displayCurrency","sourceUrl"],"type":"object","properties":{"affiliateAccountIdentifier":{"type":"string","description":"affiliate account making the request","format":"uuid"},"affiliateAccountIdentifierType":{"type":"string","description":"Type of identifier this is","enum":["INTERNAL","EXTERNAL"]},"displayCurrency":{"type":"string","description":"The desired quote","example":"USD","default":"USD"},"sourceUrl":{"type":"string","description":"Where did the booking occur","example":"https://www.traveliko.com"},"contractList":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/RawSupplierContract"}},"traceId":{"type":"string","description":"Integrator can choose to include a unique identifier to help identify the collection of bookings","example":"integrator-booking-code-1"}},"description":"Unedited / unfiltered booking contracts directly from the vendor"},"RawDailyRate":{"required":["date","price"],"type":"object","properties":{"date":{"type":"string","description":"The date this rate is applicable for.","format":"date","example":"2020-08-24"},"price":{"$ref":"#/components/schemas/Moneys"}},"description":"In case of LODGING, include daily rates"},"RawSupplierContract":{"required":["contractItemList","supplierIdentifier","supplierIdentifierType"],"type":"object","properties":{"identifier":{"type":"string","description":"Unique identifier used to track the contract. Will auto-generate on if doesn't exist.","format":"uuid"},"supplierIdentifier":{"type":"string","description":"Supplier identifier ","format":"uuid"},"supplierIdentifierType":{"type":"string","description":"Indicates whether the supplierIdentifier can be found internally or is mapped via an external identifier","example":"EXTERNAL","enum":["INTERNAL","EXTERNAL"]},"contractItemList":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/RawSupplierContractItem"}},"externalSupplierBookingCode":{"type":"string","description":"External booking code generated by the affiliate","example":"external-booking-code-1"},"externalTransactionIdentifier":{"type":"string","description":"External transaction identifier populated when agent responsible for acquiring","example":"external-transaction-1"}},"description":"Details of the booking entries that went in for one particular supplier directly."},"RawSupplierContractItem":{"required":["beneficiaryList","descriptionInEnglish","itinerary","nameInEnglish","payable","price","pricingType","type","user"],"type":"object","properties":{"user":{"$ref":"#/components/schemas/BookingUser"},"nameInEnglish":{"type":"string","description":"Name of item in English included in booking.","example":"Deluxe King"},"descriptionInEnglish":{"type":"string","description":"Short description in English of item included in booking.","example":"This is the best deluxe king that money can buy."},"price":{"$ref":"#/components/schemas/Moneys"},"itinerary":{"$ref":"#/components/schemas/Itinerary"},"pricingType":{"type":"string","description":"Indicates the way this item should be priced.","enum":["PER_STAY","PER_ADULT","PER_CHILD","PER_NIGHT","PER_PERSON","PER_PERSON_PER_NIGHT","PER_PERSON_PER_HOUR","PER_HOUR","PER_PERSON_PER_STAY","PER_ADULT_PER_NIGHT","PER_ADULT_PER_STAY","PER_CHILD_PER_NIGHT","PER_CHILD_PER_STAY","PER_USE","PER_PERSON_PER_USE"]},"type":{"type":"string","description":"Type of item this is.","example":"LODGING","enum":["LODGING","RAIL","AIR","CAR","CRUISE","PACKAGE","ADD_ON","RENTAL","EXPERIENCE","ANCILLARY_BOOKING","ANCILLARY_FEE"]},"perUseQuantity":{"type":"integer","description":"Required when pricing type is PER_USE or PER_PERSON_PER_HOUR. PER_USE => specify how many usages. PER_PERSON_PER_HOUR => specify how many hours","format":"int32","example":2},"beneficiaryList":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/RawBeneficiary"}},"payable":{"type":"string","description":"When to charge for this item.","example":"PREPAY","enum":["IMMEDIATE","ARRIVAL","DEPARTURE","AGENT"]},"policy":{"$ref":"#/components/schemas/SupplierContractItemPolicy"},"externalIdentifier":{"type":"string","description":"Optional geoname externalIdentifier to remote inventory.","example":"room-type-1"},"dailyRateList":{"type":"array","items":{"$ref":"#/components/schemas/RawDailyRate"}},"totalPrice":{"$ref":"#/components/schemas/Moneys"}},"description":"Holds one booking line item for a specific supplier."},"SupplierContractItemPolicy":{"required":["refundable"],"type":"object","properties":{"refundable":{"type":"boolean","description":"Whether this booking is refundable or not.","example":true},"advanceCancellationFreeOfCharge":{"type":"string","description":"When the cancellation policy is refundable, this flag can be set and indicates there is more rules involved than just a no-questions-asked refundable.","example":"UNTIL_EIGHTEEN_HUNDRED_HOURS_ON_DAY_OF_ARRIVAL","enum":["UNTIL_EIGHTEEN_HUNDRED_HOURS_ON_DAY_OF_ARRIVAL","UNTIL_FOURTEEN_HUNDRED_HOURS_ON_DAY_OF_ARRIVAL","ONE_DAY_BEFORE_ARRIVAL","TWO_DAYS_BEFORE_ARRIVAL","THREE_DAYS_BEFORE_ARRIVAL","FIVE_DAYS_BEFORE_ARRIVAL","SEVEN_DAYS_BEFORE_ARRIVAL","FOURTEEN_DAYS_BEFORE_ARRIVAL","TWENTYONE_DAYS_BEFORE_ARRIVAL","THIRTY_DAYS_BEFORE_ARRIVAL","FOURTY_TWO_DAYS_BEFORE_ARRIVAL","SIXTY_DAYS_BEFORE_ARRIVAL"]},"refundableCancellationCharge":{"type":"string","description":"If advanceCancellationFreeOfCharge rules is not honored, this property explains what the guest will be charged.","example":"FIFTY_PERCENT","enum":["FIRST_NIGHT","THIRTY_PERCENT","FIFTY_PERCENT","SIXTY_PERCENT","SEVENTY_PERCENT","NINENTY_PERCENT","ONE_HUNDRED_PERCENT"]},"noShowCharge":{"type":"string","description":"In case the 'Refundable cancellation charge' is set, a different no show charge can be applied.","example":"SAME_AS_CANCELLATION_FEE","enum":["SAME_AS_CANCELLATION_FEE","ONE_HUNDRED_PERCENT_OF_TOTAL_CHARGE"]},"nonRefundableCancellationCharge":{"type":"string","description":"When the cancellation policy is non-refundable, this flag can be set and indicates there is more rules involved to calculate what the guest will owe in case of a cancellation.","example":"SEVENTY_PERCENT","enum":["FIRST_NIGHT","TEN_PERCENT","THIRTY_PERCENT","FIFTY_PERCENT","SEVENTY_PERCENT"]},"nonRefundableDeadline":{"type":"string","description":"The non-refundable charge might can have a deadline. If that deadline passes, the guest might be charged more.","example":"SEVEN_DAYS_BEFORE_ARRIVAL","enum":["ONE_DAY_BEFORE_ARRIVAL","TWO_DAYS_BEFORE_ARRIVAL","THREE_DAYS_BEFORE_ARRIVAL","FIVE_DAYS_BEFORE_ARRIVAL","SEVEN_DAYS_BEFORE_ARRIVAL","FOURTEEN_DAYS_BEFORE_ARRIVAL","TWENTYONE_DAYS_BEFORE_ARRIVAL","THIRTY_DAYS_BEFORE_ARRIVAL","FOURTY_TWO_DAYS_BEFORE_ARRIVAL","SIXTY_DAYS_BEFORE_ARRIVAL"]},"nonRefundableAfterDeadlineCancellationCharge":{"type":"string","description":"If the guest does not honor the non-refundable deadline rule, this charge dictates what she owes after the deadline passes.","example":"ONE_HUNDRED_PERCENT","enum":["FIRST_NIGHT","TEN_PERCENT","THIRTY_PERCENT","FIFTY_PERCENT","SEVENTY_PERCENT","ONE_HUNDRED_PERCENT"]},"externalIdentifier":{"type":"string","description":"Optional geoname externalIdentifier to remote policy.","example":"policy-1"}},"description":"Outlines the policy for this item."},"ValidateBookingContractRequest":{"required":["contract"],"type":"object","properties":{"contract":{"$ref":"#/components/schemas/RawBookingContract"}}},"VariableCharge":{"type":"object","properties":{"fixedAmount":{"$ref":"#/components/schemas/Moneys"},"percent":{"type":"number","format":"float"},"type":{"type":"string","enum":["FIXED","PERCENTAGE"]}},"description":"A variable charge can be a fixed amount or a percentage."},"ValidateBookingContractResponse":{"required":["valid"],"type":"object","properties":{"valid":{"type":"boolean","description":"Returns whether the booking contract was valid or not."}}},"PriceSupplierContractWithAcquirerRequest":{"required":["acquirerIdentifier","affiliateAccountIdentifier","affiliateAccountIdentifierType","contract","displayCurrency","sourceUrl"],"type":"object","properties":{"affiliateAccountIdentifier":{"type":"string","description":"affiliate account making the request","format":"uuid"},"affiliateAccountIdentifierType":{"type":"string","description":"Type of identifier this is","enum":["INTERNAL","EXTERNAL"]},"displayCurrency":{"type":"string","description":"The desired quote","example":"USD","default":"USD"},"sourceUrl":{"type":"string","description":"Where did the booking occur","example":"https://www.traveliko.com"},"traceId":{"type":"string","description":"Integrator can choose to include a unique identifier to help identify the collection of bookings","example":"integrator-booking-code-1"},"contract":{"$ref":"#/components/schemas/RawSupplierContract"},"acquirerIdentifier":{"type":"string","description":"Selected acquirer"}}},"Acquirer":{"required":["acquirerId","credentials","currencyCode","priority","type","vendor"],"type":"object","properties":{"acquirerId":{"type":"string","description":"Unique identifier.","example":"acquirer-1"},"priority":{"type":"integer","description":"Determines how vendors are displayed in a list","format":"int32"},"vendor":{"type":"string","description":"Name of acquiring vendor","example":"STRIPE","enum":["STRIPE","YAPILY","PAY_PAL","NMI","AGENT"]},"type":{"type":"string","description":"Technology taking the charge","example":"CREDIT_CARD","enum":["CREDIT_CARD","BANK_TRANSFER","PAY_PAL","CRYPTO","AGENT","CASH"]},"currencyCode":{"type":"string","description":"Currency in coverage region.","example":"GBP"},"credentials":{"type":"array","items":{"$ref":"#/components/schemas/AcquirerCredentials"}},"publicToken":{"type":"string"}},"description":"The type of acquirers for this supplier."},"AcquirerCredentials":{"required":["key1","key2","type"],"type":"object","properties":{"type":{"type":"string","description":"Type of credentials","enum":["TOKEN","PROCESSOR_ID","WEBHOOK","SECRET"]},"key1":{"type":"string","description":"A key that can be used as a token","example":"token-1"},"key2":{"type":"string","description":"Can be used alongside key1 as credentials","example":"token-2"}},"description":"How we interact with the acquirer"},"DailyRate":{"required":["capturePrice","date","displayPrice","internalPrice","price","supplierPrice"],"type":"object","properties":{"date":{"type":"string","description":"The date this rate is applicable for.","format":"date","example":"2020-08-24"},"price":{"$ref":"#/components/schemas/Moneys"},"displayPrice":{"$ref":"#/components/schemas/Moneys"},"supplierPrice":{"$ref":"#/components/schemas/Moneys"},"internalPrice":{"$ref":"#/components/schemas/Moneys"},"capturePrice":{"$ref":"#/components/schemas/Moneys"}},"description":"In case of LODGING, include daily rates"},"PriceSupplierContractWithAcquirerResponse":{"required":["affiliateAccountIdentifier","affiliateAccountIdentifierType","contract","displayCurrency","sourceUrl","traceId"],"type":"object","properties":{"affiliateAccountIdentifier":{"type":"string","description":"affiliate account making the request","format":"uuid"},"affiliateAccountIdentifierType":{"type":"string","description":"Type of identifier this is","enum":["INTERNAL","EXTERNAL"]},"displayCurrency":{"type":"string","description":"The desired quote","example":"USD","default":"USD"},"sourceUrl":{"type":"string","description":"Where did the booking occur","example":"https://www.traveliko.com"},"traceId":{"type":"string","description":"Integrator can choose to include a unique identifier to help identify the collection of bookings","example":"integrator-booking-code-1"},"contract":{"$ref":"#/components/schemas/PricedSupplierContractWithAcquirer"}}},"PricedSupplierContractItemWithAcquirer":{"required":["beneficiaryList","capturePrice","descriptionInEnglish","displayPrice","internalPrice","itinerary","nameInEnglish","payable","price","pricingType","supplierPrice","type","user"],"type":"object","properties":{"user":{"$ref":"#/components/schemas/BookingUser"},"nameInEnglish":{"type":"string","description":"Name of item in English included in booking.","example":"Deluxe King"},"descriptionInEnglish":{"type":"string","description":"Short description in English of item included in booking.","example":"This is the best deluxe king that money can buy."},"price":{"$ref":"#/components/schemas/Moneys"},"displayPrice":{"$ref":"#/components/schemas/Moneys"},"supplierPrice":{"$ref":"#/components/schemas/Moneys"},"internalPrice":{"$ref":"#/components/schemas/Moneys"},"capturePrice":{"$ref":"#/components/schemas/Moneys"},"itinerary":{"$ref":"#/components/schemas/Itinerary"},"pricingType":{"type":"string","description":"How to calculate the total amount.","enum":["PER_STAY","PER_ADULT","PER_CHILD","PER_NIGHT","PER_PERSON","PER_PERSON_PER_NIGHT","PER_PERSON_PER_HOUR","PER_HOUR","PER_PERSON_PER_STAY","PER_ADULT_PER_NIGHT","PER_ADULT_PER_STAY","PER_CHILD_PER_NIGHT","PER_CHILD_PER_STAY","PER_USE","PER_PERSON_PER_USE"]},"type":{"type":"string","description":"Type of item this is.","example":"LODGING","enum":["LODGING","RAIL","AIR","CAR","CRUISE","PACKAGE","ADD_ON","RENTAL","EXPERIENCE","ANCILLARY_BOOKING","ANCILLARY_FEE"]},"perUseQuantity":{"type":"integer","description":"Required when pricing type is PER_USE.","format":"int32","example":2},"beneficiaryList":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/RawBeneficiary"}},"payable":{"type":"string","description":"When to charge for this item.","example":"PREPAY","enum":["IMMEDIATE","ARRIVAL","DEPARTURE","AGENT"]},"policy":{"$ref":"#/components/schemas/SupplierContractItemPolicy"},"externalIdentifier":{"type":"string","description":"Optional geoname externalIdentifier to remote inventory.","example":"room-type-1"},"dailyRateList":{"type":"array","items":{"$ref":"#/components/schemas/DailyRate"}},"totalDisplayPrice":{"$ref":"#/components/schemas/Moneys"},"totalInternalPrice":{"$ref":"#/components/schemas/Moneys"},"totalSupplierPrice":{"$ref":"#/components/schemas/Moneys"},"totalCapturePrice":{"$ref":"#/components/schemas/Moneys"},"totalPrice":{"$ref":"#/components/schemas/Moneys"}},"description":"Holds one booking line item for a specific supplier.","readOnly":true},"PricedSupplierContractWithAcquirer":{"required":["acquirer","capturePriceQuote","displayPriceQuote","externalSupplierBookingCode","externalSupplierIdentifier","externalTransactionIdentifier","identifier","internalPriceQuote","itemList","supplierIdentifier","supplierName","supplierPriceQuote"],"type":"object","properties":{"identifier":{"type":"string","description":"Unique identifier used to track the contract. Create a UUID for this purpose.","format":"uuid"},"supplierIdentifier":{"type":"string","description":"Supplier identifier","format":"uuid"},"supplierName":{"type":"string","description":"Supplier name","example":"Supplier One"},"displayPriceQuote":{"$ref":"#/components/schemas/Quote"},"supplierPriceQuote":{"$ref":"#/components/schemas/Quote"},"internalPriceQuote":{"$ref":"#/components/schemas/Quote"},"capturePriceQuote":{"$ref":"#/components/schemas/Quote"},"itemList":{"maxItems":2147483647,"minItems":1,"type":"array","readOnly":true,"items":{"$ref":"#/components/schemas/PricedSupplierContractItemWithAcquirer"}},"acquirer":{"type":"array","items":{"$ref":"#/components/schemas/Acquirer"}},"externalSupplierIdentifier":{"type":"string","description":"Track supplier with its external supplier identifier","example":"external-supplier-a"},"externalSupplierBookingCode":{"type":"string","description":"External booking code generated by the affiliate","example":"external-booking-code-1"},"externalTransactionIdentifier":{"type":"string","description":"External transaction identifier populated when agent responsible for acquiring","example":"external-transaction-1"},"totalDisplayPrice":{"$ref":"#/components/schemas/Moneys"},"totalInternalPrice":{"$ref":"#/components/schemas/Moneys"},"totalSupplierPrice":{"$ref":"#/components/schemas/Moneys"},"totalCapturePrice":{"$ref":"#/components/schemas/Moneys"},"totalPrice":{"$ref":"#/components/schemas/Moneys"}},"description":"Details of the booking entries that went in for one particular supplier directly."},"Quote":{"required":["exchangeRate","source","target","timestamp"],"type":"object","properties":{"source":{"type":"string","description":"Source"},"target":{"type":"string","description":"Target"},"exchangeRate":{"type":"number","description":"Exchange rate","format":"double"},"timestamp":{"type":"integer","description":"Timestamp","format":"int64"}},"description":"The quote used to create totalCapturePrice."},"PriceBookingContractRequest":{"required":["contract"],"type":"object","properties":{"contract":{"$ref":"#/components/schemas/RawBookingContract"}}},"PriceBookingContractResponse":{"required":["contract"],"type":"object","properties":{"contract":{"$ref":"#/components/schemas/PricedBookingContract"}}},"PricedBookingContract":{"required":["affiliateAccountIdentifier","affiliateAccountIdentifierType","contractList","displayCurrency","sourceUrl"],"type":"object","properties":{"affiliateAccountIdentifier":{"type":"string","description":"affiliate account making the request","format":"uuid"},"affiliateAccountIdentifierType":{"type":"string","description":"Type of identifier this is","enum":["INTERNAL","EXTERNAL"]},"displayCurrency":{"type":"string","description":"The desired quote","example":"USD","default":"USD"},"sourceUrl":{"type":"string","description":"Where did the booking occur","example":"https://www.traveliko.com"},"contractList":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/PricedSupplierContract"}},"totalDisplayPrice":{"$ref":"#/components/schemas/Moneys"}},"description":"Validated and priced contract"},"PricedDailyRate":{"required":["date","displayPrice","internalPrice","price","supplierPrice"],"type":"object","properties":{"date":{"type":"string","description":"The date this rate is applicable for.","format":"date","example":"2020-08-24"},"price":{"$ref":"#/components/schemas/Moneys"},"displayPrice":{"$ref":"#/components/schemas/Moneys"},"supplierPrice":{"$ref":"#/components/schemas/Moneys"},"internalPrice":{"$ref":"#/components/schemas/Moneys"}},"description":"In case of LODGING, include daily rates"},"PricedSupplierContract":{"required":["acquirerList","displayPriceQuote","externalSupplierBookingCode","externalSupplierIdentifier","identifier","internalPriceQuote","itemList","supplierIdentifier","supplierName","supplierPriceQuote"],"type":"object","properties":{"identifier":{"type":"string","description":"Unique identifier used to track the contract. Create a UUID for this purpose.","format":"uuid"},"supplierIdentifier":{"type":"string","description":"Supplier identifier","format":"uuid"},"supplierName":{"type":"string","description":"Supplier name","example":"Supplier One"},"displayPriceQuote":{"$ref":"#/components/schemas/Quote"},"supplierPriceQuote":{"$ref":"#/components/schemas/Quote"},"internalPriceQuote":{"$ref":"#/components/schemas/Quote"},"itemList":{"maxItems":2147483647,"minItems":1,"type":"array","readOnly":true,"items":{"$ref":"#/components/schemas/PricedSupplierContractItem"}},"acquirerList":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/Acquirer"}},"externalSupplierIdentifier":{"type":"string","description":"Track supplier with its external supplier identifier","example":"external-supplier-a"},"externalSupplierBookingCode":{"type":"string","description":"External booking code generated by the affiliate","example":"external-booking-code-1"},"externalTransactionIdentifier":{"type":"string","description":"External transaction identifier populated when agent responsible for acquiring","example":"external-transaction-1"},"totalDisplayPrice":{"$ref":"#/components/schemas/Moneys"},"totalInternalPrice":{"$ref":"#/components/schemas/Moneys"},"totalSupplierPrice":{"$ref":"#/components/schemas/Moneys"},"totalPrice":{"$ref":"#/components/schemas/Moneys"}},"description":"Details of the booking entries that went in for one particular supplier directly."},"PricedSupplierContractItem":{"required":["beneficiaryList","descriptionInEnglish","displayPrice","internalPrice","itinerary","nameInEnglish","payable","price","pricingType","supplierPrice","type","user"],"type":"object","properties":{"user":{"$ref":"#/components/schemas/BookingUser"},"nameInEnglish":{"type":"string","description":"Name of item in English included in booking.","example":"Deluxe King"},"descriptionInEnglish":{"type":"string","description":"Short description in English of item included in booking.","example":"This is the best deluxe king that money can buy."},"price":{"$ref":"#/components/schemas/Moneys"},"displayPrice":{"$ref":"#/components/schemas/Moneys"},"supplierPrice":{"$ref":"#/components/schemas/Moneys"},"internalPrice":{"$ref":"#/components/schemas/Moneys"},"itinerary":{"$ref":"#/components/schemas/Itinerary"},"pricingType":{"type":"string","description":"How to calculate the total amount.","enum":["PER_STAY","PER_ADULT","PER_CHILD","PER_NIGHT","PER_PERSON","PER_PERSON_PER_NIGHT","PER_PERSON_PER_HOUR","PER_HOUR","PER_PERSON_PER_STAY","PER_ADULT_PER_NIGHT","PER_ADULT_PER_STAY","PER_CHILD_PER_NIGHT","PER_CHILD_PER_STAY","PER_USE","PER_PERSON_PER_USE"]},"type":{"type":"string","description":"Type of item this is.","example":"LODGING","enum":["LODGING","RAIL","AIR","CAR","CRUISE","PACKAGE","ADD_ON","RENTAL","EXPERIENCE","ANCILLARY_BOOKING","ANCILLARY_FEE"]},"perUseQuantity":{"type":"integer","description":"Required when pricing type is PER_USE.","format":"int32","example":2},"beneficiaryList":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/RawBeneficiary"}},"payable":{"type":"string","description":"When to charge for this item.","example":"PREPAY","enum":["IMMEDIATE","ARRIVAL","DEPARTURE","AGENT"]},"policy":{"$ref":"#/components/schemas/SupplierContractItemPolicy"},"externalIdentifier":{"type":"string","description":"Optional geoname externalIdentifier to remote inventory.","example":"room-type-1"},"dailyRateList":{"type":"array","items":{"$ref":"#/components/schemas/PricedDailyRate"}},"totalDisplayPrice":{"$ref":"#/components/schemas/Moneys"},"totalInternalPrice":{"$ref":"#/components/schemas/Moneys"},"totalSupplierPrice":{"$ref":"#/components/schemas/Moneys"},"totalPrice":{"$ref":"#/components/schemas/Moneys"}},"description":"Holds one booking line item for a specific supplier.","readOnly":true},"AffiliateDetailsRequest":{"required":["identifier","type"],"type":"object","properties":{"type":{"type":"string","description":"Account identifier type","enum":["INTERNAL","EXTERNAL"]},"identifier":{"type":"string","description":"Account identifier","format":"uuid"}},"description":"Request for affiliate details"},"AffiliateDetailsResponse":{"type":"object","properties":{"affiliateIdentifier":{"type":"string","description":"Affiliate identifier of entity making the same","format":"uuid"},"affiliateName":{"type":"string","description":"Affiliate name of entity making the same","example":"My Affiliate"},"affiliateUrl":{"type":"string","description":"Affiliate url of entity making the same","example":"https://www.my-affiliate.com"}},"description":"Affiliate details response contains details about the affiliate facilitating the sale."},"CreateStripeSaleRequest":{"required":["acquirerIdentifier","affiliateAccountIdentifier","affiliateAccountIdentifierType","contract","displayCurrency","sourceUrl","stripeCustomerIdentifier","stripePaymentMethodIdentifier"],"type":"object","properties":{"acquirerIdentifier":{"type":"string","description":"Stripe's acquirer coverage record","example":"stripe-acquirer-1"},"affiliateAccountIdentifier":{"type":"string","description":"affiliate account making the request","format":"uuid"},"affiliateAccountIdentifierType":{"type":"string","description":"Type of identifier this is","enum":["INTERNAL","EXTERNAL"]},"displayCurrency":{"type":"string","description":"The desired quote","example":"USD","default":"USD"},"sourceUrl":{"type":"string","description":"Where did the booking occur","example":"https://www.traveliko.com"},"traceId":{"type":"string","description":"Integrator can choose to include a unique identifier to help identify the collection of bookings","example":"integrator-booking-code-1"},"contract":{"$ref":"#/components/schemas/RawSupplierContract"},"cardholder":{"$ref":"#/components/schemas/StripeCardholder"},"stripeCustomerIdentifier":{"type":"string","description":"Vendor, like Stripe, will create a customer identifier to refer to this customer on their end.","example":"stripe-customer-1"},"stripePaymentMethodIdentifier":{"type":"string","description":"Reference to payment method that was used to pay. Can be re-used to make an offline payment.","example":"pm_1JeACpACqvQog7R1zoLeqPwv"},"stripePaymentIntentIdentifier":{"type":"string","description":"Reference to payment intent that charged the card. If empty, we need to capture the charge. This occurs when existing customer is using an existing payment method.","example":"pi_3JeAC8ACqvQog7R10yG09pPm"}}},"StripeCardholder":{"required":["countryCode","email","nameOnCard","phone"],"type":"object","properties":{"nameOnCard":{"type":"string","description":"Card holder full name"},"phone":{"type":"string","description":"Card holder phone number"},"email":{"type":"string","description":"Card holder email"},"countryCode":{"type":"string","description":"Card holder billing country code"}},"description":"Card holder details"},"Beneficiary":{"required":["accountEmail","accountIdentifier","accountName","accountUrl","amountDueInCaptureCurrency","amountDueInDisplayCurrency","amountDueInInternalCurrency","amountDueInSourceCurrency","amountDueInSupplierCurrency","type"],"type":"object","properties":{"accountIdentifier":{"type":"string","description":"accountIdentifier of beneficiary that can map to an account with us","example":"account-1"},"accountName":{"type":"string","description":"accountName of beneficiary that can map to an account with us","example":"Account 1"},"accountEmail":{"type":"string","description":"accountEmail of beneficiary that can map to an account with us","example":"account@one.com"},"accountUrl":{"type":"string","description":"accountUrl of beneficiary that can map to an account with us","example":"https://some.url"},"amountDueInSourceCurrency":{"$ref":"#/components/schemas/Moneys"},"amountDueInDisplayCurrency":{"$ref":"#/components/schemas/Moneys"},"amountDueInSupplierCurrency":{"$ref":"#/components/schemas/Moneys"},"amountDueInInternalCurrency":{"$ref":"#/components/schemas/Moneys"},"amountDueInCaptureCurrency":{"$ref":"#/components/schemas/Moneys"},"type":{"type":"string","description":"The type of beneficiary payment.","enum":["COMMISSION","PLATFORM_FEE","TRIP_PAY","SALE"]},"amountDueInSourcePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"amountDueInDisplayPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"amountDueInSupplierPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"amountDueInInternalPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"amountDueInCapturePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"}},"description":"Beneficiary is a registered account with rights to compensation within a booking."},"BookingContract":{"required":["cancelled","capturePriceQuote","displayPriceQuote","identifier","internalPriceQuote","ipAddress","itemList","payment","sourceUrl","supplierIdentifier","supplierName","supplierPriceQuote","traceId"],"type":"object","properties":{"id":{"type":"string","description":"Document UUID","example":"doc-1"},"createdDate":{"type":"string","description":"Datetime this record was first created","format":"date-time"},"lastUpdate":{"type":"string","description":"Datetime this record was last updated","format":"date-time"},"version":{"type":"integer","description":"Version property that shows how many times this document has been persisted. Document will not persist if the version property is less than current version property in the system. Result in an optimistic locking exception.","format":"int64","example":12},"ipAddress":{"type":"string","description":"Caller's IP address","example":"111.222.333.444"},"traceId":{"type":"string","description":"Way to track which booking contracts were made together","example":"T-123456"},"sourceUrl":{"type":"string","description":"Where did the booking occur","example":"https://www.traveliko.com"},"identifier":{"type":"string","description":"Unique identifier used to track the contract.","example":"unique-supplier-booking-contract-1"},"supplierIdentifier":{"type":"string","description":"Supplier identifier","format":"uuid"},"supplierName":{"type":"string","description":"Supplier name","example":"Supplier One"},"displayPriceQuote":{"$ref":"#/components/schemas/Quote"},"supplierPriceQuote":{"$ref":"#/components/schemas/Quote"},"internalPriceQuote":{"$ref":"#/components/schemas/Quote"},"capturePriceQuote":{"$ref":"#/components/schemas/Quote"},"itemList":{"maxItems":2147483647,"minItems":1,"type":"array","description":"Holds one booking line item for a specific supplier.","items":{"$ref":"#/components/schemas/BookingContractItem"}},"externalSupplierIdentifier":{"type":"string","description":"Contract creator can choose to geoname this record with her own identifier","example":"supplier-a"},"externalSupplierBookingCode":{"type":"string","description":"External booking code generated by the caller","example":"external-booking-code-1"},"payment":{"$ref":"#/components/schemas/BookingContractPaymentDetails"},"cancelled":{"type":"boolean","description":"Whether the booking was cancelled.","example":false},"cancelledOn":{"type":"string","description":"When the booking was cancelled.","format":"date-time"},"canceller":{"type":"string","description":"Type of entity that cancelled the booking.","enum":["SALES_CHANNEL","SUPPLIER","TRAVELER","ADMINISTRATOR"]},"cancellationType":{"type":"string","description":"Reason type.","enum":["DUPLICATE","CANCELLATION","NO_SHOW","CC_INVALID","CC_INSUFFICIENT","DISCRETIONARY"]},"cancellerUserIdentifier":{"type":"string","description":"User identifier that cancelled the entity.","format":"uuid"},"cancelReason":{"type":"string","description":"Reason for cancellation."},"fundsProcessed":{"type":"boolean","description":"Whether a funds transfer request has been created for this booking.","example":false},"totalDisplayPrice":{"$ref":"#/components/schemas/Moneys"},"totalInternalPrice":{"$ref":"#/components/schemas/Moneys"},"totalSupplierPrice":{"$ref":"#/components/schemas/Moneys"},"totalSourcePrice":{"$ref":"#/components/schemas/Moneys"},"totalCapturePrice":{"$ref":"#/components/schemas/Moneys"},"totalDisplayPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalInternalPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalSupplierPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalSourcePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalCapturePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"cancellableByTraveler":{"type":"boolean","description":"Whether the booking can still be cancelled completely by the traveller."},"cancellableBySupplier":{"type":"boolean","description":"Whether the booking can still be cancelled completely by the supplier."},"cancellableWithNoCharges":{"type":"boolean","description":"Whether the cancellation comes at no cost to the traveler."},"cancellableWithPotentialCharges":{"type":"boolean","description":"Whether a cancellation comes with partial charges. I.e. Only some of the items in contract are not fully refundable."},"lodging":{"$ref":"#/components/schemas/BookingContractItem"},"refundedDisplayPrice":{"$ref":"#/components/schemas/Moneys"},"refundedInternalPrice":{"$ref":"#/components/schemas/Moneys"},"refundedSupplierPrice":{"$ref":"#/components/schemas/Moneys"},"refundedSourcePrice":{"$ref":"#/components/schemas/Moneys"},"refundedCapturePrice":{"$ref":"#/components/schemas/Moneys"},"refundableDisplayPrice":{"type":"boolean"},"refundableInternalPrice":{"type":"boolean"},"refundableSupplierPrice":{"type":"boolean"},"refundableSourcePrice":{"type":"boolean"},"refundableCapturePrice":{"type":"boolean"},"totalTokensEarned":{"type":"integer","description":"Total amount of tokens minted on this contract.","format":"int64"},"lodgingItinerary":{"$ref":"#/components/schemas/Itinerary"}},"description":"A booking record is the contract that got created after a successful payment was submitted."},"BookingContractItem":{"required":["beneficiaryList","descriptionInEnglish","itinerary","nameInEnglish","payable","pricingType","supplierItemBookingCode","totalCapturePrice","totalDisplayPrice","totalInternalPrice","totalSourcePrice","totalSupplierPrice","type","user"],"type":"object","properties":{"supplierItemBookingCode":{"type":"string","description":"Booking code identifying the supplier line item.","example":"TP-ASDFG1234"},"user":{"$ref":"#/components/schemas/BookingUser"},"nameInEnglish":{"type":"string","description":"Name of item in English included in booking.","example":"Deluxe King"},"descriptionInEnglish":{"type":"string","description":"Short description in English of item included in booking.","example":"This is the best deluxe king that money can buy."},"totalSourcePrice":{"$ref":"#/components/schemas/Moneys"},"totalDisplayPrice":{"$ref":"#/components/schemas/Moneys"},"totalSupplierPrice":{"$ref":"#/components/schemas/Moneys"},"totalInternalPrice":{"$ref":"#/components/schemas/Moneys"},"totalCapturePrice":{"$ref":"#/components/schemas/Moneys"},"itinerary":{"$ref":"#/components/schemas/Itinerary"},"pricingType":{"type":"string","description":"How to calculate the total amount.","enum":["PER_STAY","PER_ADULT","PER_CHILD","PER_NIGHT","PER_PERSON","PER_PERSON_PER_NIGHT","PER_PERSON_PER_HOUR","PER_HOUR","PER_PERSON_PER_STAY","PER_ADULT_PER_NIGHT","PER_ADULT_PER_STAY","PER_CHILD_PER_NIGHT","PER_CHILD_PER_STAY","PER_USE","PER_PERSON_PER_USE"]},"type":{"type":"string","description":"Type of item this is.","example":"LODGING","enum":["LODGING","RAIL","AIR","CAR","CRUISE","PACKAGE","ADD_ON","RENTAL","EXPERIENCE","ANCILLARY_BOOKING","ANCILLARY_FEE"]},"beneficiaryList":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/Beneficiary"}},"payable":{"type":"string","description":"When to charge for this item.","example":"PREPAY","enum":["IMMEDIATE","ARRIVAL","DEPARTURE","AGENT"]},"policy":{"$ref":"#/components/schemas/SupplierContractItemPolicy"},"externalIdentifier":{"type":"string","description":"Optional geoname externalIdentifier to remote inventory.","example":"room-type-1"},"tokensEarned":{"type":"integer","description":"Tokens minted for this item","format":"int64","example":12},"dailyRateList":{"type":"array","items":{"$ref":"#/components/schemas/DailyRate"}},"cancelled":{"type":"boolean","description":"Optional geoname externalIdentifier to remote inventory."},"totalSourcePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalDisplayPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalSupplierPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalInternalPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalCapturePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"cancellableByTraveler":{"type":"boolean","description":"Whether the booking can still be cancelled by the traveller."},"cancellableBySupplier":{"type":"boolean","description":"Whether the booking can still be cancelled by the supplier. A supplier cancellation overrides the refundable"},"cancellableWithNoCharges":{"type":"boolean","description":"Whether the booking can still be cancelled and whether cancellation charges might still occur."}},"description":"Returns the date when traveler checks into the room."},"BookingContractPaymentDetails":{"required":["acquirerIdentifier","agentInvoiceIdentifier","agentInvoicedDate","transactionIdentifier","type","vendor","vendorSpecific"],"type":"object","properties":{"acquirerIdentifier":{"type":"string","description":"Unique acquiring identifier. Blank for agent payment","example":"STRIPE"},"vendor":{"type":"string","description":"Name of acquiring vendor","example":"STRIPE","enum":["STRIPE","YAPILY","PAY_PAL","NMI","AGENT"]},"type":{"type":"string","description":"Technology taking the charge","example":"CREDIT_CARD","enum":["CREDIT_CARD","BANK_TRANSFER","PAY_PAL","CRYPTO","AGENT","CASH"]},"transactionIdentifier":{"type":"string","description":"Unique transaction id from the vendor upon a successful sale. Agent adds their transaction identifier.","example":"tx-1"},"agentInvoicedDate":{"type":"string","description":"The date/time the invoice was generated","format":"date-time"},"agentInvoiceIdentifier":{"type":"string","description":"The specific invoice this booking was registered on","example":"invoice-1"},"vendorSpecific":{"type":"object","additionalProperties":{"type":"string","description":"Vendor specific values that are returned in a successful response"},"description":"Vendor specific values that are returned in a successful response"}},"description":"Details of the payment. Payment details will be empty if account type is AGENT"},"BookingContractResponse":{"required":["contract"],"type":"object","properties":{"contract":{"$ref":"#/components/schemas/BookingContract"}}},"CreatePaymentIntentRequest":{"required":["acquirerIdentifier","charge","description","name"],"type":"object","properties":{"acquirerIdentifier":{"type":"string","description":"Which coverage area is Stripe customer occurring in.","example":"stripe-eur"},"charge":{"$ref":"#/components/schemas/Moneys"},"name":{"type":"string","description":"Name of hotel","example":"Hotel X"},"description":{"type":"string","description":"Details of the booking","example":"Hotel X"},"customerIdentifier":{"type":"string","description":"Optional Stripe customer identifier.","example":"customer-1"}}},"CreatePaymentIntentResponse":{"required":["clientSecret","customerIdentifier"],"type":"object","properties":{"customerIdentifier":{"type":"string"},"clientSecret":{"type":"string"}}},"CreateNmiSaleRequest":{"required":["acquirerIdentifier","affiliateAccountIdentifier","affiliateAccountIdentifierType","cardholder","contract","displayCurrency","sourceUrl","token"],"type":"object","properties":{"acquirerIdentifier":{"type":"string","description":"Acquirer identifier to use for processing","example":"user-1"},"affiliateAccountIdentifier":{"type":"string","description":"affiliate account making the request","format":"uuid"},"affiliateAccountIdentifierType":{"type":"string","description":"Type of identifier this is","enum":["INTERNAL","EXTERNAL"]},"displayCurrency":{"type":"string","description":"The desired quote","example":"USD","default":"USD"},"sourceUrl":{"type":"string","description":"Where did the booking occur","example":"https://www.traveliko.com"},"traceId":{"type":"string","description":"Integrator can choose to include a unique identifier to help identify the collection of bookings","example":"integrator-booking-code-1"},"contract":{"$ref":"#/components/schemas/RawSupplierContract"},"token":{"$ref":"#/components/schemas/NmiCreditCardToken"},"cardholder":{"$ref":"#/components/schemas/NmiCardholder"}}},"NmiCardholder":{"required":["countryCode","email","firstName","lastName","phone","zipCode"],"type":"object","properties":{"firstName":{"type":"string","description":"Card holder first name"},"lastName":{"type":"string","description":"Card holder last name"},"phone":{"type":"string","description":"Card holder phone number"},"email":{"type":"string","description":"Card holder email"},"zipCode":{"type":"string","description":"Card holder billing zip code"},"countryCode":{"type":"string","description":"Card holder billing country code"}},"description":"Card holder details"},"NmiCreditCardToken":{"required":["expirationDate","obfuscatedNumber","scheme","token"],"type":"object","properties":{"token":{"type":"string","description":"Tokenized credit card we can use to make a booking","example":"H4waV564-UQ8FgJ-yXh495-Pb2ZeA3WNjvX"},"obfuscatedNumber":{"type":"string","description":"Obfuscated credit card number used to create the token","example":"424242******4242"},"expirationDate":{"type":"string","description":"Credit card expiration date","example":"1224"},"scheme":{"type":"string","description":"Credit card type","example":"visa"}},"description":"Holds tokenized credit card data"},"CustomerPaymentMethod":{"required":["brand","expirationDate","last4","nameOnCard","paymentMethodId"],"type":"object","properties":{"paymentMethodId":{"type":"string","description":"Unique payment method identifier","example":"pm_123456"},"brand":{"type":"string","description":"Type of card","example":"visa"},"nameOnCard":{"type":"string","description":"Name on card","example":"Avid Travelman"},"last4":{"type":"string","description":"Last 4 digits of card","example":"1111"},"expirationDate":{"type":"string","description":"Card expiration date","example":"12/24"}},"description":"Existing customer payment methods"},"CustomerPaymentMethodsResponse":{"type":"object","properties":{"customerIdentifier":{"type":"string","description":"The Stripe customer identifier.","example":"customer-1"},"list":{"type":"array","description":"Existing customer payment methods","items":{"$ref":"#/components/schemas/CustomerPaymentMethod"}}}}}}}